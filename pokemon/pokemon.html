<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLANTILLA DE BOOTSTRAP CON JQUERY</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <style>
        /* mis estilos */
        .imagen{
            border: 1px solid black;
            margin: 5px;
            padding: 5px;
        }
    </style>



</head>
<body>
    

    <div id="pokemon">
        <img src="" id="imagen_nueva">
    <h2>Nombre: <span id="Nombre" </span></h2>
    <ul id="typehtml">Types:</ul>
    <ul id="Height">Height:</ul>
    <ul id="Weight">Weight:</ul>
    </div>

    <input type="text" id="numero">
    <button id="accion" >Ejecutar</button>

    <!-- DESDE ACA SOLO SCRIPT -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
        

    <script>
        toastr.options = {
        "closeButton": true,
        "progressBar": true,  
        }

        // raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/"num".png
        $("#accion").on("click", function () {
            console.log($("#numero").val()); //que me muestre eb consola lo que contiene el input,hay que gaurdar ese valor .el val guarda los valores,eso se hace creando un let
            let pokenumero = $("#numero").val(); //como le digo a la api que me vaya a buscar solo imagen guardada e el let?,con un template string
            // se edita la url del .get y se coloca $(pokenumero)
            toastr.info(pokenumero);

            for(let x = 1; x < pokenumero;x++){
                let imagen = `<img nueva="${x}" class="imagen" src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/${x}.png">`;
                console.log(imagen);
                $("#pokemon").append(imagen);
            }
        

        $(document).on("click",".imagen",function(){
            console.log(imagen);
            let id = $(this).attr("src",imagen_nueva);
            $.get(`https://pokeapi.co/api/v2/pokemon/${pokenumero}/`, function (res) {
                
                $("#Nombre").html(res.name);


                let imagendelpoke = res.sprites.front_default;  // como sprites es un objeto,se pone en la variable con un punto (para obtener la imagen)
                console.log(imagendelpoke); //ir viendo el console.log,como se ven en el dom las imagenes
                $("#imagen_nueva").attr("src", imagendelpoke); //una vez que compruebo que la ruta de la imagen se ve en el dom,tengo que agrearla al html,con un attr (atributo)

                let Arrabilities = res.types;  //como abilities es un array,se tiene que gaurdar en una variable los datos temporales del array,hacer forof y console log.Se usa llave
                for (const types of Arrabilities) {
                    console.log(types.type.name);
                    $("#typehtml").append(`<li>${types.type.name}</li>`)

                }

                let alturapoke = res.height;  // como sprites es un objeto,se pone en la variable con un punto (para obtener la imagen)
                console.log(alturapoke); //ir viendo el console.log,como se ven en el dom las imagenes
                $("#Height").append(`<li>${alturapoke}</li>`);

                let pesopoke = res.weight;  // como sprites es un objeto,se pone en la variable con un punto (para obtener la imagen)
                console.log(pesopoke); //ir viendo el console.log,como se ven en el dom las imagenes
                $("#Weight").append(`<li>${pesopoke}</li>`);


            }, "json");
            console.log(id);
            

            $("#typehtml").html("");
            $("#Height").html("");
            $("#Weight").html("");

            
            });
            });
            //¿Tiene sentido que al cargar la imagen(imagendelpoke) pase toda esta funcion.get?,no no tiene sentido,entoces,para evitar eso,se hace un input y un button
            //para obtener la imagen
// explicacion del ejercicio:
// como puedo añadir etiquetas al html sin intervenirlo y tengo solo un boton,tendria que programarlo para que
//cuando se le hiciera click,agregara una imagen al final,con append.
//como tengo un api de pokemon con los 150,al hacer click en el boton ,no me va a agregar los 150 pokemones de una
//porque o sino,la pag se marea.Está el boton ejecutar,el cual se programa para digitar cuantos pokemones queremos que se muestren en pantalla
//para eso,hay que recorrer el array de 150 pokemones antes.
//
    </script>
</body>
</html>